{% extends "layout.html" %}

{% block title %}Gestionar Almacenes{% endblock %}

{% block content %}
  <h1>Gestionar Almacenes/Peladoras</h1>
  <p>Aquí puedes crear y ver los almacenes o peladoras para tu ingenio.</p>
  
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}">{{ message }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <form method="post" class="simple-form">
    <h3>Crear Nuevo Almacén</h3>
    <div class="form-group">
      <label for="nombre">Nombre del Almacén:</label>
      <input type="text" id="nombre" name="nombre" required>
    </div>
    <button type="submit" style="margin-top: 1em;">Crear</button>
  </form>

  <h3>Almacenes Existentes</h3>
  <table class="responsive-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre</th>
      </tr>
    </thead>
    <tbody>
      {% for id, nombre in almacenes %}
      <tr>
        <td data-label="ID">{{ id }}</td>
        <td data-label="Nombre">{{ nombre }}</td>
      </tr>
      {% else %}
      <tr>
        <td colspan="2">No has registrado ningún almacén.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
